<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 550">
  <defs>
    <style>
      .label { font: 500 10px 'SF Mono', 'PingFang SC', monospace; fill: #666; text-anchor: middle; }
      .box-text { font: 600 12px 'SF Mono', 'PingFang SC', monospace; fill: #1a1a1a; text-anchor: middle; }
      .title { font: 700 16px 'SF Mono', 'PingFang SC', sans-serif; fill: #1a1a1a; text-anchor: middle; }
      .annotation { font: 400 9px 'SF Mono', 'PingFang SC', monospace; fill: #666; text-anchor: middle; }
      .group-title { font: 600 11px 'SF Mono', 'PingFang SC', monospace; fill: #333; text-anchor: middle; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>

  <rect width="800" height="550" fill="#fff"/>

  <text x="400" y="30" class="title">向量记忆架构</text>
  <text x="400" y="47" class="label">VECTOR MEMORY ARCHITECTURE</text>

  <!-- User Query -->
  <rect x="320" y="80" width="160" height="40" fill="#fef3c7" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="400" y="103" class="box-text">用户查询 User Query</text>

  <line x1="400" y1="120" x2="400" y2="145" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Memory Retrieval -->
  <rect x="320" y="150" width="160" height="40" fill="#dbeafe" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="400" y="168" class="box-text">记忆检索</text>
  <text x="400" y="181" class="label">Memory Retrieval</text>

  <!-- Memory Types -->
  <rect x="50" y="220" width="700" height="150" fill="#f0f9ff" stroke="#999" stroke-width="1" stroke-dasharray="5,5" rx="2"/>
  <text x="400" y="238" class="group-title">记忆类型 Memory Types</text>

  <rect x="80" y="255" width="140" height="100" fill="#bfdbfe" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="150" y="273" class="box-text">会话记忆</text>
  <text x="150" y="286" class="label">Session Memory</text>
  <text x="150" y="305" class="annotation">最近交互</text>
  <text x="150" y="318" class="annotation">Recent interactions</text>
  <text x="150" y="331" class="annotation">时间顺序</text>
  <text x="150" y="344" class="annotation">Chronological</text>

  <rect x="250" y="255" width="140" height="100" fill="#a5f3fc" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="320" y="273" class="box-text">语义记忆</text>
  <text x="320" y="286" class="label">Semantic Memory</text>
  <text x="320" y="305" class="annotation">向量相似度</text>
  <text x="320" y="318" class="annotation">Vector similarity</text>
  <text x="320" y="331" class="annotation">上下文相关</text>
  <text x="320" y="344" class="annotation">Context-relevant</text>

  <rect x="420" y="255" width="140" height="100" fill="#c4b5fd" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="490" y="273" class="box-text">智能体记忆</text>
  <text x="490" y="286" class="label">Agent Memory</text>
  <text x="490" y="305" class="annotation">执行历史</text>
  <text x="490" y="318" class="annotation">Execution history</text>
  <text x="490" y="331" class="annotation">工具结果</text>
  <text x="490" y="344" class="annotation">Tool results</text>

  <rect x="590" y="255" width="140" height="100" fill="#fbbf24" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="660" y="273" class="box-text">监督者记忆</text>
  <text x="660" y="286" class="label">Supervisor Memory</text>
  <text x="660" y="305" class="annotation">分解模式</text>
  <text x="660" y="318" class="annotation">Decomposition patterns</text>
  <text x="660" y="331" class="annotation">策略性能</text>
  <text x="660" y="344" class="annotation">Strategy performance</text>

  <line x1="400" y1="190" x2="150" y2="250" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="400" y1="190" x2="320" y2="250" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="400" y1="190" x2="490" y2="250" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="400" y1="190" x2="660" y2="250" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Storage Layer -->
  <rect x="50" y="390" width="700" height="120" fill="#f9fafb" stroke="#999" stroke-width="1" stroke-dasharray="5,5" rx="2"/>
  <text x="400" y="408" class="group-title">存储层 Storage Layer</text>

  <ellipse cx="180" cy="460" rx="80" ry="35" fill="#dbeafe" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="180" y="455" class="box-text">PostgreSQL</text>
  <text x="180" y="470" class="annotation">会话上下文</text>
  <text x="180" y="483" class="annotation">Session Context</text>

  <ellipse cx="400" cy="460" rx="80" ry="35" fill="#fce7f3" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="400" y="455" class="box-text">Redis</text>
  <text x="400" y="470" class="annotation">会话缓存</text>
  <text x="400" y="483" class="annotation">Session Cache</text>

  <ellipse cx="620" cy="460" rx="80" ry="35" fill="#d1fae5" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="620" y="455" class="box-text">Qdrant</text>
  <text x="620" y="470" class="annotation">向量存储</text>
  <text x="620" y="483" class="annotation">Vector Store</text>

  <line x1="150" y1="355" x2="180" y2="425" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="320" y1="355" x2="400" y2="425" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="490" y1="355" x2="620" y2="425" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Context Injection -->
  <line x1="150" y1="305" x2="350" y2="520" stroke="#666" stroke-width="1.5"/>
  <line x1="320" y1="305" x2="375" y2="520" stroke="#666" stroke-width="1.5"/>
  <line x1="490" y1="305" x2="425" y2="520" stroke="#666" stroke-width="1.5"/>
  <line x1="660" y1="305" x2="450" y2="520" stroke="#666" stroke-width="1.5"/>

  <rect x="320" y="525" width="160" height="15" fill="#4ECDC4" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="400" y="536" class="annotation" fill="#fff">上下文注入 Context Injection</text>
</svg>
