<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 620">
  <defs>
    <style>
      .label { font: 500 10px 'SF Mono', 'PingFang SC', monospace; fill: #666; text-anchor: middle; }
      .box-text { font: 600 13px 'SF Mono', 'PingFang SC', monospace; fill: #1a1a1a; text-anchor: middle; }
      .box-text-sm { font: 600 11px 'SF Mono', 'PingFang SC', monospace; fill: #1a1a1a; text-anchor: middle; }
      .title { font: 700 16px 'SF Mono', 'PingFang SC', sans-serif; fill: #1a1a1a; text-anchor: middle; }
      .annotation { font: 400 9px 'SF Mono', monospace; fill: #666; text-anchor: middle; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="620" fill="#fff"/>

  <!-- Title -->
  <text x="400" y="35" class="title">Shannon 工作流架构</text>
  <text x="400" y="52" class="label">SHANNON WORKFLOW ARCHITECTURE</text>

  <!-- Stage 1: Task Submitted -->
  <rect x="330" y="80" width="140" height="50" fill="#fef3c7" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="400" y="103" class="box-text">提交任务</text>
  <text x="400" y="118" class="label">Task Submitted</text>

  <!-- Arrow down -->
  <line x1="400" y1="130" x2="400" y2="155" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Stage 2: Complexity Analysis (Decision Diamond) -->
  <path d="M 400 160 L 460 190 L 400 220 L 340 190 Z" fill="#dbeafe" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="400" y="190" class="box-text-sm">复杂度</text>
  <text x="400" y="203" class="box-text-sm">分析</text>

  <!-- Left branch: Simple -->
  <line x1="340" y1="190" x2="200" y2="190" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="270" y="185" class="annotation">简单 Simple</text>

  <rect x="100" y="165" width="100" height="50" fill="#d1fae5" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="150" y="188" class="box-text-sm">简单</text>
  <text x="150" y="203" class="box-text-sm">工作流</text>

  <!-- Right branches: Standard/Complex to OrchestratorRouter -->
  <line x1="460" y1="190" x2="555" y2="190" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="500" y="185" class="annotation">标准/复杂</text>

  <rect x="560" y="165" width="130" height="50" fill="#67e8f9" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="625" y="188" class="box-text-sm">编排路由器</text>
  <text x="625" y="203" class="label">Router</text>

  <!-- Arrow down from Router to Pattern Selection -->
  <line x1="625" y1="215" x2="625" y2="255" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Stage 3: Pattern Selection (Decision Diamond) -->
  <path d="M 625 260 L 685 290 L 625 320 L 565 290 Z" fill="#fce7f3" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="625" y="290" class="box-text-sm">模式</text>
  <text x="625" y="303" class="box-text-sm">选择</text>

  <!-- Four cognitive patterns -->
  <!-- CoT -->
  <line x1="565" y1="290" x2="485" y2="290" stroke="#666" stroke-width="1.5"/>
  <line x1="485" y1="290" x2="485" y2="360" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="525" y="285" class="annotation">顺序 Sequential</text>

  <rect x="420" y="365" width="130" height="50" fill="#a5f3fc" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="485" y="388" class="box-text-sm">思维链</text>
  <text x="485" y="403" class="label">Chain-of-Thought</text>

  <!-- ToT -->
  <line x1="625" y1="320" x2="625" y2="360" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="655" y="340" class="annotation">探索 Exploratory</text>

  <rect x="560" y="365" width="130" height="50" fill="#99f6e4" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="625" y="388" class="box-text-sm">思维树</text>
  <text x="625" y="403" class="label">Tree-of-Thoughts</text>

  <!-- ReAct -->
  <line x1="685" y1="290" x2="150" y2="290" stroke="#666" stroke-width="1.5"/>
  <line x1="150" y1="290" x2="150" y2="450" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="700" y="285" class="annotation">交互 Interactive</text>

  <rect x="85" y="455" width="130" height="50" fill="#f9a8d4" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="150" y="478" class="box-text-sm">ReAct</text>
  <text x="150" y="493" class="label">推理-行动循环</text>

  <!-- Debate -->
  <line x1="685" y1="290" x2="765" y2="290" stroke="#666" stroke-width="1.5"/>
  <line x1="765" y1="290" x2="765" y2="450" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="710" y="305" class="annotation">协作 Collaborative</text>

  <rect x="700" y="455" width="130" height="50" fill="#fde047" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="765" y="478" class="box-text-sm">辩论</text>
  <text x="765" y="493" class="label">Debate</text>

  <!-- Converge to Execute Agents -->
  <line x1="150" y1="505" x2="150" y2="540" stroke="#666" stroke-width="1.5"/>
  <line x1="150" y1="540" x2="385" y2="540" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <line x1="485" y1="415" x2="485" y2="540" stroke="#666" stroke-width="1.5"/>
  <line x1="485" y1="540" x2="395" y2="540" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <line x1="625" y1="415" x2="625" y2="540" stroke="#666" stroke-width="1.5"/>
  <line x1="625" y1="540" x2="415" y2="540" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <line x1="765" y1="505" x2="765" y2="540" stroke="#666" stroke-width="1.5"/>
  <line x1="765" y1="540" x2="425" y2="540" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <rect x="320" y="515" width="160" height="50" fill="#60a5fa" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="400" y="538" class="box-text">执行智能体</text>
  <text x="400" y="553" class="label">Execute Agents</text>

  <!-- Arrow down -->
  <line x1="400" y1="565" x2="400" y2="585" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Synthesize Results -->
  <rect x="320" y="590" width="160" height="18" fill="#e5e7eb" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="400" y="602" class="box-text-sm">综合结果 → 客户端</text>

  <!-- Legend -->
  <rect x="30" y="560" width="70" height="14" fill="#dbeafe" stroke="#1a1a1a" stroke-width="1"/>
  <text x="105" y="567" class="annotation" text-anchor="start" dominant-baseline="middle">决策 Decision</text>

  <rect x="30" y="580" width="70" height="14" fill="#67e8f9" stroke="#1a1a1a" stroke-width="1"/>
  <text x="105" y="587" class="annotation" text-anchor="start" dominant-baseline="middle">编排 Orchestrator</text>

  <rect x="190" y="560" width="70" height="14" fill="#a5f3fc" stroke="#1a1a1a" stroke-width="1"/>
  <text x="265" y="567" class="annotation" text-anchor="start" dominant-baseline="middle">认知模式 Pattern</text>

  <rect x="190" y="580" width="70" height="14" fill="#60a5fa" stroke="#1a1a1a" stroke-width="1"/>
  <text x="265" y="587" class="annotation" text-anchor="start" dominant-baseline="middle">执行 Execution</text>
</svg>
