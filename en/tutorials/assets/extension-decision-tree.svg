<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700">
  <defs>
    <style>
      .label { font: 500 10px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #666; text-anchor: middle; letter-spacing: 0.5px; }
      .box-text { font: 600 13px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; text-anchor: middle; }
      .box-text-sm { font: 600 11px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; text-anchor: middle; }
      .title { font: 700 16px 'SF Mono', 'PingFang SC', sans-serif; fill: #1a1a1a; text-anchor: middle; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="900" height="700" fill="#fff"/>

  <!-- Title -->
  <text x="450" y="30" class="title">Extension Decision Tree</text>

  <!-- Root -->
  <rect x="350" y="60" width="200" height="50" fill="#fef3c7" stroke="#1a1a1a" stroke-width="1.5" rx="4"/>
  <text x="450" y="82" class="box-text">Need to Extend</text>
  <text x="450" y="97" class="box-text">Shannon</text>

  <!-- What to extend? -->
  <path d="M 370 160 L 530 160 L 550 180 L 530 200 L 370 200 L 350 180 Z" fill="#dbeafe" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="450" y="185" class="box-text-sm">What to extend?</text>

  <!-- Predefined Workflow -->
  <path d="M 80 270 L 220 270 L 240 290 L 220 310 L 80 310 L 60 290 Z" fill="#99f6e4" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="150" y="283" class="box-text-sm">Predefined</text>
  <text x="150" y="298" class="box-text-sm">Workflow</text>

  <rect x="70" y="360" width="160" height="40" fill="#d1fae5" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="150" y="385" class="box-text-sm">Use Templates</text>

  <!-- External API -->
  <path d="M 300 270 L 430 270 L 450 290 L 430 310 L 300 310 L 280 290 Z" fill="#99f6e4" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="365" y="293" class="box-text-sm">External API</text>

  <!-- API Type -->
  <path d="M 320 360 L 410 360 L 430 380 L 410 400 L 320 400 L 300 380 Z" fill="#a5f3fc" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="365" y="385" class="box-text-sm">API Type?</text>

  <!-- Simple HTTP -->
  <rect x="40" y="460" width="140" height="40" fill="#fde047" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="110" y="485" class="box-text-sm">MCP Tool</text>

  <!-- OpenAPI Spec -->
  <rect x="210" y="460" width="140" height="40" fill="#fde047" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="280" y="485" class="box-text-sm">OpenAPI Tool</text>

  <!-- Domain-Specific -->
  <rect x="380" y="460" width="140" height="40" fill="#fde047" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="450" y="485" class="box-text-sm">Vendor Adapter</text>

  <!-- Custom Logic -->
  <path d="M 540 270 L 660 270 L 680 290 L 660 310 L 540 310 L 520 290 Z" fill="#99f6e4" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="600" y="293" class="box-text-sm">Custom Logic</text>

  <rect x="540" y="360" width="160" height="40" fill="#fbcfe8" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="620" y="378" class="box-text-sm">Built-in</text>
  <text x="620" y="393" class="box-text-sm">Python Tool</text>

  <!-- Planning Logic -->
  <path d="M 750 270 L 870 270 L 890 290 L 870 310 L 750 310 L 730 290 Z" fill="#99f6e4" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="810" y="293" class="box-text-sm">Planning Logic</text>

  <rect x="730" y="360" width="160" height="40" fill="#f9a8d4" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="810" y="378" class="box-text-sm">Custom</text>
  <text x="810" y="393" class="box-text-sm">Decomposition</text>

  <!-- Complexity boxes -->
  <rect x="70" y="560" width="160" height="60" fill="#e5e7eb" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="150" y="585" class="box-text-sm">Low Complexity</text>
  <text x="150" y="605" class="label">YAML only</text>

  <rect x="370" y="560" width="160" height="60" fill="#e5e7eb" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="450" y="585" class="box-text-sm">Medium Complexity</text>
  <text x="450" y="605" class="label">Python + Config</text>

  <rect x="670" y="560" width="160" height="60" fill="#e5e7eb" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="750" y="585" class="box-text-sm">High Complexity</text>
  <text x="750" y="605" class="label">Go + Python</text>

  <!-- Arrows -->
  <line x1="450" y1="110" x2="450" y2="155" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- From decision to options -->
  <line x1="350" y1="180" x2="150" y2="265" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="380" y1="200" x2="365" y2="265" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="490" y1="200" x2="600" y2="265" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="550" y1="180" x2="810" y2="265" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Predefined to Templates -->
  <line x1="150" y1="310" x2="150" y2="355" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- External API to API Type -->
  <line x1="365" y1="310" x2="365" y2="355" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- API Type to tools -->
  <line x1="300" y1="380" x2="110" y2="455" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="200" y="415" class="label">Simple HTTP</text>

  <line x1="340" y1="400" x2="280" y2="455" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="310" y="430" class="label">OpenAPI Spec</text>

  <line x1="415" y1="400" x2="450" y2="455" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="440" y="430" class="label">Domain-Specific</text>

  <!-- Custom Logic -->
  <line x1="600" y1="310" x2="620" y2="355" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Planning Logic -->
  <line x1="810" y1="310" x2="810" y2="355" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- To complexity -->
  <line x1="150" y1="400" x2="150" y2="555" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="110" y1="500" x2="110" y2="530" stroke="#666" stroke-width="1.5"/>
  <line x1="110" y1="530" x2="150" y2="530" stroke="#666" stroke-width="1.5"/>

  <line x1="280" y1="500" x2="280" y2="530" stroke="#666" stroke-width="1.5"/>
  <line x1="280" y1="530" x2="150" y2="530" stroke="#666" stroke-width="1.5"/>

  <line x1="450" y1="500" x2="450" y2="555" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="620" y1="400" x2="620" y2="530" stroke="#666" stroke-width="1.5"/>
  <line x1="620" y1="530" x2="450" y2="530" stroke="#666" stroke-width="1.5"/>

  <line x1="810" y1="400" x2="810" y2="530" stroke="#666" stroke-width="1.5"/>
  <line x1="810" y1="530" x2="750" y2="530" stroke="#666" stroke-width="1.5"/>
  <line x1="750" y1="530" x2="750" y2="555" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
</svg>
