<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 620">
  <defs>
    <style>
      .label { font: 500 10px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #666; text-anchor: middle; letter-spacing: 0.5px; }
      .box-text { font: 600 13px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; text-anchor: middle; }
      .box-text-sm { font: 600 11px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; text-anchor: middle; }
      .title { font: 700 16px 'SF Mono', 'PingFang SC', sans-serif; fill: #1a1a1a; text-anchor: middle; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <marker id="arrow-back" markerWidth="10" markerHeight="7" refX="1" refY="3.5" orient="auto">
      <polygon points="10 0, 0 3.5, 10 7" fill="#666"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="620" fill="#fff"/>

  <!-- Title -->
  <text x="400" y="30" class="title">Agent Lifecycle</text>

  <!-- Participants -->
  <rect x="50" y="60" width="100" height="40" fill="#fef3c7" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="100" y="85" class="box-text-sm">Client</text>

  <rect x="200" y="60" width="120" height="40" fill="#dbeafe" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="260" y="85" class="box-text-sm">Orchestrator</text>

  <rect x="370" y="60" width="100" height="40" fill="#a5f3fc" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="420" y="85" class="box-text-sm">Agent</text>

  <rect x="520" y="60" width="100" height="40" fill="#99f6e4" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="570" y="85" class="box-text-sm">LLM</text>

  <rect x="670" y="60" width="100" height="40" fill="#fde047" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="720" y="85" class="box-text-sm">Tools</text>

  <!-- Lifelines -->
  <line x1="100" y1="100" x2="100" y2="580" stroke="#e5e7eb" stroke-width="2" stroke-dasharray="4"/>
  <line x1="260" y1="100" x2="260" y2="580" stroke="#e5e7eb" stroke-width="2" stroke-dasharray="4"/>
  <line x1="420" y1="100" x2="420" y2="580" stroke="#e5e7eb" stroke-width="2" stroke-dasharray="4"/>
  <line x1="570" y1="100" x2="570" y2="580" stroke="#e5e7eb" stroke-width="2" stroke-dasharray="4"/>
  <line x1="720" y1="100" x2="720" y2="580" stroke="#e5e7eb" stroke-width="2" stroke-dasharray="4"/>

  <!-- Messages -->
  <!-- Submit Task -->
  <line x1="100" y1="130" x2="255" y2="130" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="177" y="125" class="label">Submit Task</text>

  <!-- Execute Task -->
  <line x1="260" y1="160" x2="415" y2="160" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="337" y="155" class="label">Execute Task</text>

  <!-- Analyze Task -->
  <line x1="420" y1="190" x2="565" y2="190" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="492" y="185" class="label">Analyze Task</text>

  <!-- Plan & Reasoning -->
  <line x1="565" y1="220" x2="425" y2="220" stroke="#666" stroke-width="1.5" marker-end="url(#arrow-back)"/>
  <text x="495" y="215" class="label">Plan & Reasoning</text>

  <!-- Loop box -->
  <rect x="360" y="245" width="410" height="240" fill="none" stroke="#666" stroke-width="1.5" stroke-dasharray="5" rx="5"/>
  <text x="565" y="265" class="label">Until Complete</text>

  <!-- Invoke Tool -->
  <line x1="420" y1="290" x2="715" y2="290" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="567" y="285" class="label">Invoke Tool</text>

  <!-- Tool Result -->
  <line x1="715" y1="320" x2="425" y2="320" stroke="#666" stroke-width="1.5" marker-end="url(#arrow-back)"/>
  <text x="570" y="315" class="label">Tool Result</text>

  <!-- Process Result -->
  <line x1="420" y1="360" x2="565" y2="360" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="492" y="355" class="label">Process Result</text>

  <!-- Next Action -->
  <line x1="565" y1="390" x2="425" y2="390" stroke="#666" stroke-width="1.5" marker-end="url(#arrow-back)"/>
  <text x="495" y="385" class="label">Next Action</text>

  <!-- Continue loop indicator -->
  <line x1="420" y1="420" x2="395" y2="420" stroke="#666" stroke-width="1.5"/>
  <line x1="395" y1="420" x2="395" y2="280" stroke="#666" stroke-width="1.5"/>
  <line x1="395" y1="280" x2="415" y2="280" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Final Result -->
  <line x1="415" y1="510" x2="265" y2="510" stroke="#666" stroke-width="1.5" marker-end="url(#arrow-back)"/>
  <text x="340" y="505" class="label">Final Result</text>

  <!-- Response -->
  <line x1="255" y1="540" x2="105" y2="540" stroke="#666" stroke-width="1.5" marker-end="url(#arrow-back)"/>
  <text x="180" y="535" class="label">Response</text>
</svg>
