<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 450">
  <defs>
    <style>
      .label { font: 500 10px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #666; text-anchor: middle; letter-spacing: 0.5px; }
      .box-text { font: 600 13px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; text-anchor: middle; }
      .box-text-sm { font: 600 11px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #1a1a1a; text-anchor: middle; }
      .title { font: 700 16px 'SF Mono', 'PingFang SC', sans-serif; fill: #1a1a1a; text-anchor: middle; }
      .note-text { font: 500 9px 'SF Mono', 'Menlo', 'Monaco', monospace; fill: #666; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="750" height="450" fill="#fff"/>

  <!-- Title -->
  <text x="375" y="30" class="title">Vendor Adapter Sequence</text>

  <!-- Lifelines -->
  <rect x="40" y="60" width="100" height="40" fill="#dbeafe" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="90" y="83" class="box-text-sm">Orchestrator</text>
  <line x1="90" y1="100" x2="90" y2="420" stroke="#666" stroke-width="1" stroke-dasharray="4 2"/>

  <rect x="170" y="60" width="100" height="40" fill="#fde047" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="220" y="83" class="box-text-sm">Agent Core</text>
  <line x1="220" y1="100" x2="220" y2="420" stroke="#666" stroke-width="1" stroke-dasharray="4 2"/>

  <rect x="300" y="60" width="100" height="40" fill="#99f6e4" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="350" y="83" class="box-text-sm">LLM Service</text>
  <line x1="350" y1="100" x2="350" y2="420" stroke="#666" stroke-width="1" stroke-dasharray="4 2"/>

  <rect x="430" y="60" width="100" height="40" fill="#fef3c7" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="480" y="83" class="box-text-sm">Adapter</text>
  <line x1="480" y1="100" x2="480" y2="420" stroke="#666" stroke-width="1" stroke-dasharray="4 2"/>

  <rect x="560" y="60" width="100" height="40" fill="#e5e7eb" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="610" y="83" class="box-text-sm">External API</text>
  <line x1="610" y1="100" x2="610" y2="420" stroke="#666" stroke-width="1" stroke-dasharray="4 2"/>

  <!-- Message 1: Execute Tool -->
  <line x1="90" y1="130" x2="215" y2="130" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="152" y="125" class="label">Execute Tool</text>

  <!-- Message 2: Tool Request -->
  <line x1="220" y1="160" x2="345" y2="160" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="282" y="155" class="label">Tool Request (body)</text>

  <!-- Conditional section -->
  <rect x="280" y="180" width="410" height="140" fill="none" stroke="#666" stroke-width="1" stroke-dasharray="4 2" rx="4"/>
  <text x="290" y="195" class="label">if Vendor Adapter Configured</text>

  <!-- Message 3: transform_body -->
  <line x1="350" y1="210" x2="475" y2="210" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="412" y="205" class="box-text-sm">transform_body</text>

  <!-- Adapter processing -->
  <rect x="450" y="225" width="60" height="60" fill="#fef3c7" stroke="#1a1a1a" stroke-width="1"/>
  <text x="460" y="243" class="note-text">Field aliasing</text>
  <text x="460" y="254" class="note-text">Session inject</text>
  <text x="460" y="265" class="note-text">Normalize</text>

  <!-- Message 4: Transformed body -->
  <line x1="475" y1="295" x2="355" y2="295" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="415" y="290" class="label">Transformed body</text>

  <!-- Message 5: HTTP Request -->
  <line x1="350" y1="340" x2="605" y2="340" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="477" y="335" class="label">HTTP Request</text>

  <!-- Message 6: Response -->
  <line x1="605" y1="365" x2="355" y2="365" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="480" y="360" class="label">Response</text>

  <!-- Message 7: Tool Result -->
  <line x1="345" y1="385" x2="225" y2="385" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="285" y="380" class="label">Tool Result</text>

  <!-- Message 8: Result -->
  <line x1="215" y1="405" x2="95" y2="405" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="155" y="400" class="label">Result</text>
</svg>
