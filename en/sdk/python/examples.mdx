---
title: "Code Examples"
description: "Practical examples using the Shannon Python SDK"
---

<Note>
This examples collection is growing. More use cases will be added regularly.
</Note>

## Basic Examples

### Model Selection

```python
from shannon import ShannonClient

client = ShannonClient(base_url="http://localhost:8080")
handle = client.submit_task(
  "Summarize the paragraph into three bullet points focusing on revenue trends. Output: Markdown list.",
  model_tier="small",
  # model_override="gpt-5-nano-2025-08-07",
  # provider_override="openai",
  mode="simple",
)
print(client.wait(handle.task_id).result)
```

### Simple Question Answering

```python
from shannon import ShannonClient

client = ShannonClient(base_url="http://localhost:8080")

# Ask a simple question
handle = client.submit_task(query="What is the capital of France?")
final = client.wait(handle.task_id)
print(f"Answer: {final.result}")
```

### Data Analysis

```python
from shannon import ShannonClient

client = ShannonClient()

# Realistic data analysis
handle = client.submit_task(
    query=(
        "Given the sales data below, calculate:\n"
        "1. Total revenue per product\n"
        "2. Month-over-month growth percentage\n"
        "3. Return top 3 by total revenue\n\n"
        "Data:\n"
        "ProductA: Jan=$10000, Feb=$12000\n"
        "ProductB: Jan=$8000, Feb=$9500\n"
        "ProductC: Jan=$15000, Feb=$14000\n"
        "ProductD: Jan=$5000, Feb=$6000\n\n"
        "Format: JSON array [{product, revenue, mom_growth_pct}]"
    )
)

result = client.wait(handle.task_id)
print(result.result)
```

## Advanced Examples

### Multi-Step Workflow

```python
from shannon import ShannonClient

def complex_analysis():
    client = ShannonClient()
    session_id = "quarterly-analysis"

    # Step 1: Load data
    load_handle = client.submit_task(
        query="Load Q4 financial data from database",
        session_id=session_id,
    )
    client.wait(load_handle.task_id)

    # Step 2: Analyze trends (has context from step 1)
    analyze_handle = client.submit_task(
        query="Identify top 3 revenue trends",
        session_id=session_id,
    )
    trends = client.wait(analyze_handle.task_id)

    # Step 3: Generate report
    report_handle = client.submit_task(
        query="Create executive summary with visualizations",
        session_id=session_id,
    )

    return client.wait(report_handle.task_id)
```

### Parallel Processing

```python
import asyncio
from shannon import AsyncShannonClient

async def parallel_research(topics):
    async with AsyncShannonClient() as client:
        tasks = [
            client.submit_task(
                query=(
                    f"For {topic}, provide one-sentence definition and one real-world example. "
                    "Output JSON {definition, example}."
                )
            )
            for topic in topics
        ]

        # Wait for all handles
        handles = await asyncio.gather(*tasks)

        # Collect all results
        results = await asyncio.gather(*[
            client.wait(h.task_id)
            for h in handles
        ])

        return dict(zip(topics, results))

# Use it
topics = ["AI", "Quantum Computing", "Biotechnology"]
results = asyncio.run(parallel_research(topics))
```

### Streaming with filters

```python
from shannon import EventType

handle = client.submit_task(
    query=(
        "Compare AWS, Azure, and GCP pricing models in ~120 words. "
        "Stream partial output; end with a 'Conclusion:' line."
    )
)
for event in client.stream(handle.workflow_id, types=[EventType.LLM_OUTPUT, EventType.WORKFLOW_COMPLETED]):
    print(event.type)
    if event.type == EventType.WORKFLOW_COMPLETED:
        break
```

## Real-World Use Cases

{/* Removed outdated customer support bot example (used unsupported session APIs). */}

### Code Review Assistant

```python
def automated_code_review(file_path, language="python"):
    client = ShannonClient()

    with open(file_path, 'r') as f:
        code = f.read()

    handle = client.submit_task(
        query=f"Review this {language} code for bugs, security issues, and improvements",
        # Mode auto-selected,
        context={"code": code}
    )

    # Track progress (generic)
    for event in client.stream(handle.workflow_id):
        print(f"[{event.type}] {event.message}")
        if event.type == "WORKFLOW_COMPLETED":
            break

    return client.wait(handle.task_id)

# Use it
review = automated_code_review("app.py")
print(review)
```

{/* Removed verbose research assistant example for brevity. */}

## Error Handling Examples

```python
from shannon import ShannonClient, ShannonError, ConnectionError, TaskTimeoutError
import time

def robust_task_submission(query, max_retries=3):
    client = ShannonClient()

    for attempt in range(max_retries):
        try:
            # Submit task
            handle = client.submit_task(query=query)  # Mode auto-selected

            # Wait with timeout
            result = client.wait(handle.task_id, timeout=300)

            return result

        except ConnectionError:
            if attempt < max_retries - 1:
                time.sleep(2 ** attempt)  # Exponential backoff
                continue
            raise

        except TaskTimeoutError:
            print("Task timed out")
            raise
        except ShannonError as e:
            print(f"Shannon error: {e}")
            raise
```

## Next Steps

<CardGroup cols={2}>
  <Card title="Async Usage" icon="bolt" href="/en/sdk/python/async-usage">
    Async/await patterns
  </Card>
  <Card title="Error Handling" icon="shield" href="/en/sdk/python/error-handling">
    Handle errors properly
  </Card>
</CardGroup>
