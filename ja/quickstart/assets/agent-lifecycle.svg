<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 550">
  <defs>
    <style>
      .label { font: 500 10px 'SF Mono', 'Hiragino Sans', 'Noto Sans JP', sans-serif; fill: #666; text-anchor: middle; }
      .box-text { font: 600 13px 'SF Mono', 'Hiragino Sans', 'Noto Sans JP', sans-serif; fill: #1a1a1a; text-anchor: middle; }
      .box-text-sm { font: 600 11px 'SF Mono', 'Hiragino Sans', 'Noto Sans JP', sans-serif; fill: #1a1a1a; text-anchor: middle; }
      .msg-text { font: 500 10px 'SF Mono', 'Hiragino Sans', 'Noto Sans JP', sans-serif; fill: #1a1a1a; text-anchor: start; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <marker id="arrow-back" markerWidth="10" markerHeight="7" refX="1" refY="3.5" orient="auto">
      <polygon points="10 0, 0 3.5, 10 7" fill="#666"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="750" height="550" fill="#fff"/>

  <!-- Participants -->
  <rect x="50" y="30" width="100" height="40" fill="#e0f2fe" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="100" y="48" class="box-text">Client</text>
  <text x="100" y="62" class="label">クライアント</text>

  <rect x="200" y="30" width="110" height="40" fill="#00A3FF" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="255" y="48" class="box-text">Orchestrator</text>
  <text x="255" y="62" class="label">調整</text>

  <rect x="360" y="30" width="100" height="40" fill="#FF6B6B" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="410" y="48" class="box-text" fill="#fff">Agent</text>
  <text x="410" y="62" class="label" fill="#fff">エージェント</text>

  <rect x="510" y="30" width="100" height="40" fill="#4ECDC4" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="560" y="48" class="box-text">LLM</text>
  <text x="560" y="62" class="label">言語モデル</text>

  <rect x="660" y="30" width="80" height="40" fill="#fde047" stroke="#1a1a1a" stroke-width="1.5" rx="2"/>
  <text x="700" y="48" class="box-text">Tools</text>
  <text x="700" y="62" class="label">ツール</text>

  <!-- Lifelines -->
  <line x1="100" y1="70" x2="100" y2="520" stroke="#ddd" stroke-width="1.5" stroke-dasharray="5,5"/>
  <line x1="255" y1="70" x2="255" y2="520" stroke="#ddd" stroke-width="1.5" stroke-dasharray="5,5"/>
  <line x1="410" y1="70" x2="410" y2="520" stroke="#ddd" stroke-width="1.5" stroke-dasharray="5,5"/>
  <line x1="560" y1="70" x2="560" y2="520" stroke="#ddd" stroke-width="1.5" stroke-dasharray="5,5"/>
  <line x1="700" y1="70" x2="700" y2="520" stroke="#ddd" stroke-width="1.5" stroke-dasharray="5,5"/>

  <!-- Messages -->
  <!-- 1. Submit Task -->
  <line x1="100" y1="100" x2="255" y2="100" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="110" y="95" class="msg-text">Submit Task</text>
  <text x="110" y="107" class="label">タスク提出</text>

  <!-- 2. Execute Task -->
  <line x1="255" y1="130" x2="410" y2="130" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="270" y="125" class="msg-text">Execute Task</text>
  <text x="270" y="137" class="label">タスク実行</text>

  <!-- 3. Analyze Task -->
  <line x1="410" y1="160" x2="560" y2="160" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="425" y="155" class="msg-text">Analyze Task</text>
  <text x="425" y="167" class="label">タスク分析</text>

  <!-- 4. Plan & Reasoning -->
  <line x1="560" y1="190" x2="410" y2="190" stroke="#666" stroke-width="1.5" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
  <text x="425" y="185" class="msg-text">Plan & Reasoning</text>
  <text x="425" y="197" class="label">計画・推論</text>

  <!-- Loop box -->
  <rect x="380" y="210" width="350" height="180" fill="none" stroke="#999" stroke-width="1.5" stroke-dasharray="5,5" rx="2"/>
  <text x="390" y="225" class="label">Until Complete / 完了まで</text>

  <!-- 5. Invoke Tool -->
  <line x1="410" y1="250" x2="700" y2="250" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="490" y="245" class="msg-text">Invoke Tool</text>
  <text x="490" y="257" class="label">ツール呼び出し</text>

  <!-- 6. Tool Result -->
  <line x1="700" y1="280" x2="410" y2="280" stroke="#666" stroke-width="1.5" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
  <text x="490" y="275" class="msg-text">Tool Result</text>
  <text x="490" y="287" class="label">ツール結果</text>

  <!-- 7. Process Result -->
  <line x1="410" y1="310" x2="560" y2="310" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="425" y="305" class="msg-text">Process Result</text>
  <text x="425" y="317" class="label">結果処理</text>

  <!-- 8. Next Action -->
  <line x1="560" y1="340" x2="410" y2="340" stroke="#666" stroke-width="1.5" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
  <text x="425" y="335" class="msg-text">Next Action</text>
  <text x="425" y="347" class="label">次の行動</text>

  <!-- 9. Final Result -->
  <line x1="410" y1="410" x2="255" y2="410" stroke="#666" stroke-width="1.5" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
  <text x="270" y="405" class="msg-text">Final Result</text>
  <text x="270" y="417" class="label">最終結果</text>

  <!-- 10. Response -->
  <line x1="255" y1="440" x2="100" y2="440" stroke="#666" stroke-width="1.5" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
  <text x="110" y="435" class="msg-text">Response</text>
  <text x="110" y="447" class="label">応答</text>
</svg>
