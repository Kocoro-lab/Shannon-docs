---
title: "タスク一時停止"
description: "タスクを一時停止"
---

## エンドポイント

```http
POST http://localhost:8080/api/v1/tasks/{id}/pause
```

## 説明

**次のワークフローチェックポイント**で実行中のタスクを一時停止します。現在のアクティビティ（LLM呼び出し、ツールなど）は完了することが許可され、その後、ワークフローは再開またはキャンセルされるまでブロックされます。

進行状況を失うことなく、長時間実行される研究や監視ワークフローを一時的に停止したい場合に使用します。

## 認証

**必要**: はい

ヘッダーにAPIキーを含めてください：

```http
X-API-Key: sk_test_123456
```

## リクエスト

### ヘッダー

| ヘッダー        | 必要 | 説明                       |
|-----------------|------|---------------------------|
| `X-API-Key`     | はい | API認証キー              |
| `Content-Type`  | いいえ | ボディがある場合は`application/json` |
| `traceparent`   | いいえ | W3Cトレースコンテキスト   |

### パスパラメータ

| パラメータ | タイプ   | 必要 | 説明                           |
|-------------|----------|------|---------------------------------|
| `id`        | string   | はい | タスクID（TemporalワークフローID） |

### ボディパラメータ

| パラメータ | タイプ   | 必要 | 説明                        |
|-------------|----------|------|----------------------------|
| `reason`    | string   | いいえ | 一時停止の理由のオプションノート |

### リクエストボディの例

```json
{
  "reason": "ユーザーが中間結果をレビューしている間に一時停止"
}
```

## レスポンス

### 202 Accepted

```json
{
  "success": true,
  "message": "一時停止信号が送信されました",
  "task_id": "task-123"
}
```

### 404 Not Found

```json
{ "error": "タスクが見つかりません" }
```

### 409 Failed Precondition

無効な状態でタスクを一時停止できません：

```json
{ "error": "完了したタスクを一時停止できません" }
```

```json
{ "error": "失敗したタスクを一時停止できません" }
```

```json
{ "error": "キャンセルされたタスクを一時停止できません" }
```

```json
{ "error": "タイムアウトしたタスクを一時停止できません" }
```

```json
{ "error": "タスクはすでに一時停止しています" }
```

### 401 / 403

```json
{ "error": "認証されていません" }
```

または

```json
{ "error": "禁止されています" }
```

## 注意事項

- 一時停止は明確に定義されたチェックポイント（例：**pre_execution**、**pre_completion**）で効果を発揮し、進行中のアクティビティを**中断**しません。
- 一時停止中、SSEストリームは`workflow.pausing`および`workflow.paused`イベントを`checkpoint`フィールドと共に発信します。
- 所有権とテナンシーが強制されます：ユーザーは自分のタスクのみを一時停止できます。
